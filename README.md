XMPP
====
1 xmpp协议

http://blog.csdn.net/nomousewch/article/details/6431946

即时通讯技术（IM）支持用户在线实时交谈。如果要发送一条信息，用户需要打开一个小窗口，以便让用户及其朋友在其中输入信息并让交谈双方都看到交谈的内容。大多数常用的即时通讯发送程序都会提供各种各样的功能： 即时通讯 - 在用户和在线朋友之间来回发送信息 聊天 - 创建用户与朋友或工友的自定义聊天室 网页链接 - 共享用户喜爱的网址 支持图片 - 浏览朋友计算机中的图片 支持声音 - 给朋友播放音乐 支持文件传输 - 直接将文件发送给朋友，以便于共享 交谈 - 使用 Internet，而不是电话，与朋友们进行真正的交谈 影音串流内容 - 实时或准实时的股市行情或新闻 有许多的IM系统，如 AOL IM、Yahoo IM、 MSN IM还有我们熟悉的QQ，它们最大的区别在于各自通讯协议的实现，所以即时通讯技术的核心在于它的传输协议，协议用来说明信息在网络上如何传输，如果有了统一的传输协议，那么应当可以实现各个IM之间的直接通讯，为了创建即时通讯的统一标准，人们经过了多次尝试：IETF 的对话初始协议（SIP）和即时通讯对话初始协议和表示扩展协议（SIMPLE）、应用交换协议（APEX）、显示和即时通讯协议（PRIM）及基于 XML 且开放的可扩展通讯和表示协议（XMPP）协议（常称为 Jabber 协议）。人们多次努力，试图统一各大主要 IM 供应商的标准（AOL、Yahoo 及 Microsoft），但无一成功，且每一种 IM 仍然继续使用自己所拥有的协议。

2 XMPP通讯流程 http://blog.csdn.net/nomousewch/article/details/6432129

XMPP协议的传输是通过XML文件来传输的，并且不是类似于QQ的点对点通讯，而是客户端到服务器再到客户端的方式来实现，以上过程的一个简单的XMPP通讯流程可以如下： 首先，由客户端连接到服务器，客户端通过IO流发送一段XML文件，在文件中包含了自身的用户名和密码。 服务器端接收到客户端的XML文件，从中获取用户名和密码进行验证，如果验证成功，服务器会发送一个XML文件给客户端表明已经登录成功。 登陆成功后，客户端可以通过发送一个获取好友名单的XML文件，服务器会将当前用户的好友以XML文件传到客户端。 客户端选择一个好友，向其发送信息（其实是向服务器发送，服务器收到后会转发给对应的好友），好友收到。 通过以上的流程，一此基本的通讯得以达成。

3 服务器和客户端

http://blog.csdn.net/wwmusic/article/details/8858706

一、XMPP服务器 首先我们需要一个XMPP服务器，在此Demo中，我采用主机作为服务器来使用。 到 XMPP Servers 下载 ejabberd 这个服务器。 World's Most Popular XMPP Application Server

我下载的是 ejabberd-2.1.11-darwin-x86-installer.app.zip 这个版本，便于在Mac 下安装：

然后解压安装，一步一步的进行既可。当到达填写服务器域名时，会有个默认值，即你机子的名字，默认既可，不用更改：

然后就是 管理员用户名的填写和密码的填写，这些值自己填写后一定要记住，因为每次登陆服务器需要认证填写。 安装成功后，在安装目录下点击运行 start ：

点击 admin interface 后，会要求输入用户名 （格式： 管理员名 @ 服务器域名.local ）和密码。然后进入到服务器管理界面。

点击 虚拟主机，你会看到一个列表，点击主机列下的服务器域名.local 连接，会展开左侧的列表

点击用户，你就可以创建几个用户，便于之后的数据交互。

以上就是服务器的搭建。下面简单讲解下客户端。

二、XMPP客户端 这里说的客户端，当然不是我们稍后会讲的基于xmpp framework实现的Demo，而是将和我们Demo交互信息的另一方客户端。请到 XMPP Clients 下载 Adium 这个服务器（当然，你也可以选择其他的客户端，只要支持Mac OS X 既可。 下载后按提示一步一步安装既可。注：你可以添加账号，选择XMPP类型，输入完整的账号及密码，你可以添加多个刚刚你在服务器上创建的用户，同时，你可以选择联系人来互设好友，便于之后的数据交互。

三、基于XMPP协议的简单 IM 实现 1、首先到Git 上下载 xmppframework 框架 2、新建一个项目，将以下文件加入工程中，记住选择Copy

加入所需框架，如下，并设置好路径：

主要可以看源代码：代码是别人写的。

这里面细心点 慢慢配置就好了 我主要是卡在了服务器地址和添加好友上了，希望大家都可以玩的愉快。
